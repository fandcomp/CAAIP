---
import BaseLayout from "~/layouts/BaseLayout.astro";
import { getCollection } from 'astro:content';

const data = await getCollection('alumni');
const angkatan = data
  .map((d) => d.slug)
  .sort((a, b) => a.localeCompare(b));
---
<BaseLayout title="Alumni â€” CAAIP" description="Direktori Alumni CAAIP">
  <section class="section container-px mx-auto">
    <h1 class="text-2xl font-bold text-caaip-blue">Alumni</h1>
    <p class="mt-2 text-slate-600">Pilih angkatan untuk melihat daftar alumni.</p>

    {angkatan.length === 0 ? (
      <p class="mt-6 text-slate-600">Data alumni belum tersedia.</p>
    ) : (
      <ul class="mt-6 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4">
        {angkatan.map((tahun) => (
          <li>
            <a href={`/alumni/${tahun}`} class="block border rounded-lg p-4 text-center hover:border-caaip-blue hover:text-caaip-blue">{tahun}</a>
          </li>
        ))}
      </ul>
    )}
  </section>
</BaseLayout>
